<div class="p-4">
    <div class="bg-base-100 rounded-2xl shadow-lg pr-3 pl-3 pt-4 pb-4 mt-4">
        <a class="btn btn-ghost text-xl pointer-events-none mb-4">Comprobante de n칩mina
            @if(id != "") {
                <span>- {{userReport?.name}} {{userReport?.lastName}}</span>
            }
        </a>
        <div class="flex content-start gap-4 items-end">
            <label class="form-control w-full max-w-xs">
                <div class="label">
                    <span class="label-text">Mes</span>
                </div>
                <select class="select select-bordered" [(ngModel)]="month" (change)="resetReport()">
                    <option disabled selected value="">Seleccionar mes</option>
                    <option value="1">Enero</option>
                    <option value="2">Frebrero</option>
                    <option value="3">Marzo</option>
                    <option value="4">Abril</option>
                    <option value="5">Mayo</option>
                    <option value="6">Junio</option>
                </select>
            </label>
            <label class="form-control w-full max-w-xs">
                <div class="label">
                    <span class="label-text">A침o</span>
                </div>
                <select class="select select-bordered" [(ngModel)]="year" (change)="resetReport()">
                    <option disabled selected value="">Seleccionar a침o</option>
                    <option value="2024">2024</option>
                    <option value="2023">2023</option>
                    <option value="2022">2022</option>
                    <option value="2020">2020</option>
                    <option value="2019">2019</option>
                    <option value="2018">2018</option>
                </select>
            </label>
            <button class="btn btn-square btn-primary" (click)="searchPayment()">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                    stroke="currentColor" class="size-6">
                    <path stroke-linecap="round" stroke-linejoin="round"
                        d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z" />
                </svg>
            </button>
            <button class="btn btn-primary" [ngClass]="{'btn-disabled': !showReport}" (click)="searchPayment()">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6">
                    <path fill-rule="evenodd" d="M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5H5.625ZM7.5 15a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 7.5 15Zm.75 2.25a.75.75 0 0 0 0 1.5H12a.75.75 0 0 0 0-1.5H8.25Z" clip-rule="evenodd" />
                    <path d="M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z" />
                  </svg>                  
                Exportar PDF
            </button>
        </div>
    </div>
    @if (showReport) {
        <div class="mt-4 mb-4">
            <report-detail [month]="month" [year]="year" [month_letter]="getMonth(month)" [data]="report"></report-detail>
        </div>
    }
</div>


<div class="toast toast-bottom toast-end toast-transition" [ngClass]="{'show': showWarning, 'hide': !showWarning && warningDismissed}">
    <div class="alert alert-warning">
        <span>Por favor seleccione mes y a침o</span>
    </div>
</div>